

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parameters &mdash; cbptools 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quick Start Guide" href="../quickstart.html" />
    <link rel="prev" title="Input Data" href="input_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> cbptools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration File</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="instructions.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_data.html">Input Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#masking">Masking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connectivity">Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clustering">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_data_structure.html">Input Data Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_validation.html">Input Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execution.html">Execution</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cbptools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Parameters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/configuration/parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <style> .green {color:green}  .black {color:black}</style><div class="section" id="parameters">
<h1>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h1>
<div class="section" id="masking">
<h2>Masking<a class="headerlink" href="#masking" title="Permalink to this headline">¶</a></h2>
<p>The mask preprocessing is executed during the setup step (i.e., prior to executing the pipeline). It transforms the
masks based on the parameters used below. Not all parameters are used for each <cite>input_data_type</cite>. The connectivity
input data type has no masking parameters at all, since mask preprocessing is skipped.</p>
<p>All parameters are under the <cite>parameters</cite> key, and the masking parameters are added under the <cite>masking</cite> key:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
    <span class="nt">masking</span><span class="p">:</span>
        <span class="nt">threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
        <span class="nt">median_filter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="glossary simple">
<dt id="term-threshold-float-default-0-0-input-data-type-rsfmri-dmri"><span class="black">threshold</span>   <em>float, default = 0.0, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’</span>)</dt><dd><p>Threshold above which voxels in the ROI mask image are defined as 1’s. This is only applied if the mask is not
binary.</p>
</dd>
<dt id="term-median-filter-bool-default-false-input-data-type-rsfmri"><span class="black">median_filter</span>   <em>bool, default = false, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Apply median filtering to the seed mask</p>
</dd>
<dt id="term-median-filter-dist-int-default-1-input-data-type-rsfmri"><span class="black">median_filter_dist</span>  <em>int, default = 1, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Median filtering distance</p>
</dd>
<dt id="term-del-seed-expand-int-optional-input-data-type-rsfmri"><span class="black">del_seed_expand</span> <em>int, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Expand the border around the seed mask (in milimeter) for removal from the target mask. This should only be
applied if the input time-series data is smoothed, using the smoothing kernel as a value for this parameter.</p>
</dd>
<dt id="term-subsample-int-optional-input-data-type-rsfmri"><span class="black">subsample</span>   <em>int, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Apply subsampling to the target mask to improve computational efficiency at minimal loss of specificity. This
removes every second voxel from the mask and is only recommended if the data has been smoothed.</p>
</dd>
<dt id="term-resample-to-mni-bool-default-true-input-data-type-rsfmri-dmri"><span class="black">resample_to_mni</span> <em>bool, default = true, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’</span>)</dt><dd><p>Resample the input masks (seed- and target mask) to match the 2mm MNI152 gray matter mask in shape and affine.</p>
</dd>
<dt id="term-upsample-seed-to-list-optional-input-data-type-dmri"><span class="black">upsample_seed_to</span>    <em>list, optional, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>Upsample the seed mask to the specified voxel size (e.g., from [3, 3, 3] as 3mm isotropic to [1, 1, 1] as 1mm
isotropic). If left empty or as null, no upsampling will be done.</p>
</dd>
<dt id="term-upsample-target-to-list-optional-input-data-type-dmri"><span class="black">upsample_target_to</span>  <em>list, optional, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>Downsample the target mask to the specified voxel size, similar to how upsample_seed_to works.</p>
</dd>
</dl>
</div>
<div class="section" id="connectivity">
<h2>Connectivity<a class="headerlink" href="#connectivity" title="Permalink to this headline">¶</a></h2>
<p>The connectivity task will generate a connectivity matrix from the specified input data.</p>
<p>All parameters are under the <cite>parameters</cite> key, and the connectivity parameters are added under the <cite>connectivity</cite> key:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
    <span class="nt">connectivity</span><span class="p">:</span>
        <span class="nt">pca_transform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.95</span>
        <span class="nt">high_pass</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="glossary simple">
<dt id="term-seed-low-variance-threshold-float-default-0-05-input-data-type-rsfmri"><span class="black">seed_low_variance_threshold</span>   <em>float, default = 0.05, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>When more than this specified percentage of voxels within the seed has low or no variance over the entire time
course, the processing for this participant will not continue. A detailed error report is provided once all
connectivity is processed and further processing is halted until the problems are resolved.</p>
</dd>
<dt id="term-target-low-variance-threshold-float-default-0-1-input-data-type-rsfmri"><span class="black">target_low_variance_threshold</span>   <em>float, default = 0.1, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Same as <cite>seed_low_variance_threshold</cite>, except concerning voxels within the target masked area.</p>
</dd>
<dt id="term-high-pass-float-optional-input-data-type-rsfmri"><span class="black">high_pass</span>   <em>float, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>High-pass value for the band-pass filter. If this is used, <cite>low_pass</cite> and <cite>tr</cite> must also be specified</p>
</dd>
<dt id="term-low-pass-float-optional-input-data-type-rsfmri"><span class="black">low_pass</span>    <em>float, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Low-pass value for the band-pass filter. If this is used, <cite>high_pass</cite> and <cite>tr</cite> must also be specified</p>
</dd>
<dt id="term-tr-float-optional-input-data-type-rsfmri"><span class="black">tr</span>  <em>float, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Repetition time (in seconds) required for band-pass filtering</p>
</dd>
<dt id="term-smoothing-fwhm-int-optional-input-data-type-rsfmri"><span class="black">smoothing_fwhm</span>  <em>int, optional, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>FWHM kernel value for smoothing. If left empty, smoothing is skipped</p>
</dd>
<dt id="term-arctanh-transform-bool-default-true-input-data-type-rsfmri"><span class="black">arctanh_transform</span>   <em>bool, default = true, input_data_type =</em> (<span class="green">‘rsfmri’</span>)</dt><dd><p>Arctanh transform applied to the connectivity matrix</p>
</dd>
<dt id="term-pca-transform-float-optional-input-data-type-rsfmri-dmri"><span class="black">pca_transform</span>   <em>float, optional, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’</span>)</dt><dd><p>PCA transform applied to the connectivity matrix. This value is equivalent to n_components in
sklearn.decomposition.PCA</p>
</dd>
<dt id="term-dist-thresh-float-default-5-0-input-data-type-dmri"><span class="black">dist_thresh</span> <em>float, default = 5.0, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Discards samples shorter than this threshold (in mm)</p>
</dd>
<dt id="term-loop-check-bool-default-false-input-data-type-dmri"><span class="black">loop_check</span>  <em>bool, default = false, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Perform loopchecks on paths - slower, but allows lower curvature threshold</p>
</dd>
<dt id="term-c-thresh-float-default-0-2-input-data-type-dmri"><span class="black">c_thresh</span>    <em>float, default = 0.2, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Curvature threshold</p>
</dd>
<dt id="term-step-length-float-default-0-5-input-data-type-dmri"><span class="black">step_length</span> <em>float, default = 0.5, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Steplength in mm</p>
</dd>
<dt id="term-n-samples-int-default-200-input-data-type-dmri"><span class="black">n_samples</span>   <em>int, default = 200, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Number of samples</p>
</dd>
<dt id="term-n-steps-int-default-2000-input-data-type-dmri"><span class="black">n_steps</span> <em>int, default = 2000, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Number of steps per sample</p>
</dd>
<dt id="term-correct-path-distribution-bool-default-false-input-data-type-dmri"><span class="black">correct_path_distribution</span>   <em>bool, default = false, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>(probtrackx2) Correct path distribution for the length of the pathways</p>
</dd>
<dt id="term-cleanup-fsl-bool-default-true-input-data-type-dmri"><span class="black">cleanup_fsl</span> <em>bool, default = true, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>Remove all files created by probtrackx2 (except <cite>fdt_matrix2.dot</cite>) after the connectivity matrix has been
extracted.</p>
</dd>
<dt id="term-cubic-transform-bool-default-true-input-data-type-dmri"><span class="black">cubic_transform</span> <em>bool, default = true, input_data_type =</em> (<span class="green">‘dmri’</span>)</dt><dd><p>Apply a cubic transformation on the connectivity matrix</p>
</dd>
</dl>
</div>
<div class="section" id="clustering">
<h2>Clustering<a class="headerlink" href="#clustering" title="Permalink to this headline">¶</a></h2>
<p>Connectivity matrices will be clustered using k-means (sklearn.cluster.KMeans) and these clustering results will
subsequently be clustered using hierarchical clustering to obtain a group parcellation.</p>
<p>All parameters are under the <cite>parameters</cite> key, and the clustering parameters are added under the <cite>clustering</cite> key:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
    <span class="nt">clustering</span><span class="p">:</span>
        <span class="nt">algorithm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">auto</span>
        <span class="nt">group_method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mode</span>
        <span class="nt">init</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">random</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="glossary simple">
<dt id="term-n-clusters-list-input-data-type-rsfmri-dmri-connectivity"><span class="black">n_clusters</span>   <em>list, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>A list of cluster numbers to be evaluated (entered as [2, 3, 8] to receive a 2, 3, and 8-cluster solution)</p>
</dd>
<dt id="term-algorithm-str-default-auto-input-data-type-rsfmri-dmri-connectivity"><span class="black">algorithm</span>   <em>str, default = ‘auto’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>(sklearn.cluster.KMeans) K-means algorithm to use</p>
</dd>
<dt id="term-init-str-default-random-input-data-type-rsfmri-dmri-connectivity"><span class="black">init</span>   <em>str, default = ‘random’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>(sklearn.cluster.KMeans) Method for initialization</p>
</dd>
<dt id="term-max-iter-int-default-10000-input-data-type-rsfmri-dmri-connectivity"><span class="black">max_iter</span>   <em>int, default = 10000, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>(sklearn.cluster.KMeans) Maximum number of iterations of the k-means algorithm for a single run.</p>
</dd>
<dt id="term-n-init-int-default-256-input-data-type-rsfmri-dmri-connectivity"><span class="black">n_init</span>   <em>int, default = 256, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>(sklearn.cluster.KMeans) Number of time the k-means algorithm will be run with different centroid seeds.</p>
</dd>
<dt id="term-linkage-str-default-complete-input-data-type-rsfmri-dmri-connectivity"><span class="black">linkage</span>   <em>str, default = ‘complete’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>(scipy.cluster.hierarchy.linkage) The linkage algorithm to use (allowed values: ‘single’, ‘average’, ‘complete’)</p>
</dd>
<dt id="term-group-method-str-default-agglomerative-input-data-type-rsfmri-dmri-connectivity"><span class="black">group_method</span>   <em>str, default = ‘agglomerative’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>Method for obtaining group-level clustering results (allowed values: ‘agglomerative’, ‘mode’)</p>
</dd>
<dt id="term-internal-validity-metrics-list-default-silhouette-score-input-data-type-rsfmri-dmri-connectivity"><span class="black">internal_validity_metrics</span>   <em>list, default = [‘silhouette_score’], input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>List of internal validity metrics to assess (allowed values: [‘silhouette_score’,
‘davies_bouldin_score’, ‘calinski-harabasz’])</p>
</dd>
<dt id="term-similarity-metric-str-default-adjusted-rand-score-input-data-type-rsfmri-dmri-connectivity"><span class="black">similarity_metric</span>   <em>str, default = ‘adjusted_rand_score’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>Similarity metric to use to generate between-subject cluster comparisons and subject to group-level cluster
comparisons (allowed values: ‘adjusted_rand_score’, ‘adjusted_mutual_info_score’, ‘v_measure_score’)</p>
</dd>
</dl>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Parameters for generating the summary results.</p>
<p>All parameters are under the <cite>parameters</cite> key, and the summary parameters are added under the <cite>summary</cite> key:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
    <span class="nt">summary</span><span class="p">:</span>
        <span class="nt">algorithm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">auto</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="glossary simple">
<dt id="term-figure-format-str-default-png-input-data-type-rsfmri-dmri-connectivity"><span class="black">figure_format</span>   <em>str, default = ‘png’, input_data_type =</em> (<span class="green">‘rsfmri’, ‘dmri’, ‘connectivity’</span>)</dt><dd><p>Format of the output figures generated for the summary (allowed values: ‘png’, ‘svg’, ‘pdf’, ‘ps’, ‘eps’).</p>
</dd>
</dl>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>References to external documentation:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FDT/UserGuide#PROBTRACKX_-_probabilistic_tracking_with_crossing_fibres)">probtrackx2</a></p></li>
<li><p><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html)">sklearn.cluster.KMeans</a></p></li>
<li><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html)">scipy.cluster.hierarchy.linkage</a></p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../quickstart.html" class="btn btn-neutral float-right" title="Quick Start Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="input_data.html" class="btn btn-neutral float-left" title="Input Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Niels Reuter

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>