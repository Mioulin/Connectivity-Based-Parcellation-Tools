

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Input Data &mdash; cbptools 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Parameters" href="parameters.html" />
    <link rel="prev" title="Configuration File" href="instructions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> cbptools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration File</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="instructions.html">Configuration File</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Input Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#participants-data">Participants Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resting-state-fmri-data">Resting-state fMRI Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diffusion-mri-data">Diffusion MRI Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connectivity-data">Connectivity Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_data_structure.html">Input Data Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_validation.html">Input Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execution.html">Execution</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cbptools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Input Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/configuration/input_data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="input-data">
<span id="inputdata"></span><h1>Input Data<a class="headerlink" href="#input-data" title="Permalink to this headline">¶</a></h1>
<p>The first step of configuring a CBP project is to define your input data. Depending on the <cite>input_data_type</cite> this has
different entries. Some <cite>input_data</cite> fields have sub-fields. In that case, the key itself may contain other key:value
pairs. The file path normally entered at the top field may then also be entered in the sub-field called <em>file</em>. This
sub-field is required only when sub-fields are used at all. Sub-fields are used to define options for the input data,
such as the separator to be used for reading tabular data (e.g., “t” for tab-separated (.tsv) files).</p>
<p>Valid examples:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">input_data</span><span class="p">:</span>
    <span class="nt">time_series</span><span class="p">:</span> <span class="s">&#39;path/to/{participant_id}/time_series.nii&#39;</span>
    <span class="nt">seed_mask</span><span class="p">:</span> <span class="s">&#39;path/to/seed_mask.nii</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">input_data</span><span class="p">:</span>
    <span class="nt">time_series</span><span class="p">:</span>
        <span class="nt">file</span><span class="p">:</span> <span class="s">&#39;path/to/{participant_id}/time_series.nii&#39;</span>
        <span class="nt">validate_shape</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">seed_mask</span><span class="p">:</span> <span class="s">&#39;path/to/seed_mask.nii&#39;</span>
</pre></div>
</div>
<div class="section" id="participants-data">
<h2>Participants Data<a class="headerlink" href="#participants-data" title="Permalink to this headline">¶</a></h2>
<dl class="glossary">
<dt id="term-participants-str">participants (<em>str</em>)</dt><dd><p>A tabular file containing a column with participant IDs. By default this column should be named
‘participant_id’. This field has sub-fields:</p>
<blockquote>
<div><dl class="simple">
<dt>file (<em>str</em>)</dt><dd><p>Path to the participants file.</p>
</dd>
<dt>sep (<em>str</em>)</dt><dd><p>Delimiter to use.</p>
</dd>
<dt>index_col (<em>str</em>)</dt><dd><p>Alternative name for the column containing the participant IDs</p>
</dd>
</dl>
</div></blockquote>
<p>When a <cite>{participant_id}</cite> template is requested, then the file path must contain this template at the place where
otherwise the participant ID would go. This template be replaced by the actual participant IDs during execution
of the pipeline.</p>
<p>For example, the following participants file is used:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 58%" />
<col style="width: 25%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>participant_id</p></th>
<th class="head"><p>gender</p></th>
<th class="head"><p>age</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>571144</p></td>
<td><p>M</p></td>
<td><p>25</p></td>
</tr>
<tr class="row-odd"><td><p>517239</p></td>
<td><p>M</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-even"><td><p>812746</p></td>
<td><p>M</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-odd"><td><p>213421</p></td>
<td><p>F</p></td>
<td><p>26</p></td>
</tr>
<tr class="row-even"><td><p>204622</p></td>
<td><p>F</p></td>
<td><p>30</p></td>
</tr>
</tbody>
</table>
<p>Then, the file path <cite>/path/to/{participant_id}/time_series.nii</cite> will be converted to
<cite>/path/to/571144/time_series.nii</cite>, <cite>/path/to/517239/time_series.nii</cite>, and so on.</p>
</dd>
</dl>
</div>
<div class="section" id="resting-state-fmri-data">
<h2>Resting-state fMRI Data<a class="headerlink" href="#resting-state-fmri-data" title="Permalink to this headline">¶</a></h2>
<p>This section is useful only if the <cite>input_data_type</cite> is set to ‘rsfmri’.</p>
<dl class="glossary">
<dt id="term-seed-mask-str">seed_mask (<em>str</em>)</dt><dd><p>A binary region-of-interest NIfTI image in the same space as the time-series and target mask. The extension must
be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-target-mask-str">target_mask (<em>str</em>)</dt><dd><p>A binary NIfTI image covering a target region (e.g., the whole brain). If left empty, the MNI152 2mm gray-matter
mask will be used by default. The extension must be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-time-series-str">time_series (<em>str</em>)</dt><dd><p>4D NIfTI image containing the resting-state time-series. This field must contain the <cite>{participant_id}</cite> template.
This field has sub-fields:</p>
<dl class="simple">
<dt>file (<em>str</em>)</dt><dd><p>Path to the time-series file</p>
</dd>
<dt>validate_shape (<em>bool, optional</em>)</dt><dd><p>If <cite>true</cite> the validation procedure will evaluate whether the time-series files match in shape and affine to
the seed mask. This can be time consuming depending on the number of participants and the size of the
time-series images.</p>
</dd>
</dl>
</dd>
<dt id="term-confounds-str-optional">confounds (<em>str, optional</em>)</dt><dd><p>A tabular confounds file containing columns of nuisance signal regressors. This field has sub-fields:</p>
<dl class="simple">
<dt>file (<em>str</em>)</dt><dd><p>Path to the confounds file</p>
</dd>
<dt>sep (<em>str</em>)</dt><dd><p>Delimiter to use</p>
</dd>
<dt>usecols (<em>list</em>)</dt><dd><p>List of columns that should be used. If left empty, all columns are used. Otherwise only the selected columns
will be used in nuisance signal regression. A glob pattern (*) can be used to select multiple columns that
match the expression (e.g., ‘motion-*’ includse ‘motion-x’, ‘motion-y’, motion-z’, etc.).</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="diffusion-mri-data">
<h2>Diffusion MRI Data<a class="headerlink" href="#diffusion-mri-data" title="Permalink to this headline">¶</a></h2>
<p>This section is useful only if the <cite>input_data_type</cite> is set to ‘dmri’.</p>
<dl class="glossary simple">
<dt id="term-5">seed_mask (<em>str</em>)</dt><dd><p>A binary region-of-interest NIfTI image in the same space as the time-series and target mask. The extension must
be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-6">target_mask (<em>str</em>)</dt><dd><p>A binary NIfTI image covering a target region (e.g., the whole brain). If left empty, the MNI152 2mm gray-matter
mask will be used by default. The extension must be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-bet-binary-mask-str">bet_binary_mask (<em>str</em>)</dt><dd><p>File path to a <a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BET/UserGuide#bet">BET</a> binary mask file. This field must
contain the <cite>{participant_id}</cite> template. The extension must be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-xfm-str">xfm (<em>str</em>)</dt><dd><p>Transform taking seed space to DTI space (either FLIRT matrix or FNIRT warpfield). This field must contain the
<cite>{participant_id}</cite> template. The extension must be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-inv-xfm-str">inv_xfm (<em>str</em>)</dt><dd><p>Transform taking DTI space to seed space. This field must contain the <cite>{participant_id}</cite> template. The extension
must be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-samples-str">samples (<em>str</em>)</dt><dd><p>Merged samples derived from bedpostX output. This field must contain the <cite>{participant_id}</cite> template. Note that
this is the same file path that would otherwise be entered in FSL. This it selects all files that start with the
entered file path (e.g., /path/to/samples/merged will take all files starting with merged).</p>
</dd>
</dl>
</div>
<div class="section" id="connectivity-data">
<h2>Connectivity Data<a class="headerlink" href="#connectivity-data" title="Permalink to this headline">¶</a></h2>
<p>This section is useful only if the <cite>input_data_type</cite> is set to ‘connectivity’.</p>
<dl class="glossary simple">
<dt id="term-11">seed_mask (<em>str</em>)</dt><dd><p>A binary region-of-interest NIfTI image in the same space as the time-series and target mask. The extension must
be either <cite>.nii</cite> or <cite>.nii.gz</cite>.</p>
</dd>
<dt id="term-seed-indices-str">seed_indices (<em>str</em>)</dt><dd><p>A numpy array file containing the 3D coordinates of each seed voxel in the order that the seed voxels are
represented in the connectivity matrix. The extension must be <cite>.npy</cite>.</p>
</dd>
<dt id="term-connectivity-matrix-str">connectivity_matrix (<em>str</em>)</dt><dd><p>A numpy array file containing a connectivity matrix of shape (seed, target), where the seed voxels must match the
amount of voxels in the seed mask. This field must contain the <cite>{participant_id}</cite> template. The extension must be
<cite>.npy</cite>.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parameters.html" class="btn btn-neutral float-right" title="Parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="instructions.html" class="btn btn-neutral float-left" title="Configuration File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Niels Reuter

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>