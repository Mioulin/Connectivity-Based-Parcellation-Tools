======================
CBPtools Documentation
======================

Connectivity-Based Parcellation Tools
=====================================

Regional **connectivity-based parcellation** (CBP) is a procedure for mapping a region's long-range connectivity
profiles (Eickhoff et al., 2015), revealing brain organization within a region-of-interest (ROI).

The procedure clusters ROI voxels/vertices based on similarity in their profile of connection strengths to a set of
target voxels/vertices, referred to as a connectivity profile. The connectivity profile for each ROI voxel/vertex
reflects that voxel/vertex's connectivity to a target space, for instance all gray matter voxels/vertices within the
brain for functional data. Voxels/vertices are clustered using the
`k-means clustering <http://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html>`_ algorithm, which
is optimized such that within-group similarity of profiles is high and between-group similarity is low. The resulting
clusters form units of homogeneity within an ROI delineated by differences in connectivity, with the units being
spatially consistent due to neighboring voxels/vertices having more similar patterns in connectivity than those further
away. This provides the CBP procedure with the ability to map distinct brain regions, useful for localizing
(dys)function or outlining functional or structural subdivisions/clusters within a particular ROI. Group results are
generated by applying a `hierarchical clustering <https://docs.scipy.org/doc/scipy/reference/cluster.hierarchy.html>`_
algorithm on the individual clustering results. Further processing options can configured by the user.

The type of connectivity depends crucially on the imaging modality, where connectivity means the patterns of anatomical
links for structural data through diffusion-weighted imaging (DWI), and statistical dependencies for functional data.
CBPtools currently supports two neuroimaging modalities: resting-state bloox-oxygen-level dependent (BOLD) time-series
typically used to measure task-independent functional connectivity, and probabilistic diffusion tractography to
estimate anatomical fiber-connectivity.

Citation
--------
Niels Reuter, Xiaojin Liu, Sarah Genon, Shahrzad Kharabian, Tobias Kalenscher, Felix Hoffstaedter, Simon B. Eickhoff,
Kaustubh R. Patil. "CBPtools: A python package for regional connectivity-based parcellation". In Preparation 2019.

References
----------
Eickhoff SB, Thirion B, Varoquaux G, Bzdok D (2015): Connectivity-based parcellation: Critique and implications.
Hum Brain Mapp 36:4771â€“4792.


.. toctree::
    :maxdepth: 2
    :caption: Contents:

.. toctree::
    :caption: Overview
    :name: overview
    :hidden:
    :maxdepth: 1

    installation
    workflow

.. toctree::
    :caption: Configuration File
    :name: configuration
    :hidden:
    :maxdepth: 1

    configuration/instructions
    configuration/input_data
    configuration/parameters

.. toctree::
    :caption: Getting Started
    :name: getting_started
    :hidden:
    :maxdepth: 1

    quickstart
    input_data_structure
    input_validation
    execution


Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
